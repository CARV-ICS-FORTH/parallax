** Fake Block Device Driver **

1) Folders

src: The source code of the module
include: The ioctl include file used for both kernel module and user programs
examples: Simple examples for ioctls
fio: A fio configuration file for sequential writes that uses mmap()
test: A simple mmap() test provided from Pilar
old: Initial version provided by Pilar

2) Example usage

cd src
make
insmod fake_blk.ko underlying_device="/dev/sdf"

The argument underlying_device is required.

3) Kernel tested

Tested on 3.10.x and 3.12.x. It should work also for 2.6.32 but not tested yet.

4) Debug

You can enable statistics and debug messages from src/fake_blk.h. In this version 
both features are disabled.


5) IOCTLs

File "include/fake_blk_ioctl.h" contains all ioctl codes and a small desciption for
them. Folder "examples" contains a simple usage scenario for each of them.


6)  In the bitmap, for compatibility with HEutropia (Giorgos Saloustros)
 "1" means reserved
 "0" means free


7) BUGS 

ioctl FAKE_BLK_IOC_TEST_PAGE returns -1


